
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Schooled in ping pong - The Disco Blog</title>
  <meta name="author" content="Andrew Glover">

  
  <meta name="description" content="Technology observations, tutorials, and options from a disco lovin' cat who writes Ruby, Java, Node, and Objective-C code.">
  
  <meta name="keywords" content="Java, JavaScript, Node, Scala, mobile, Redis, MongoDB, Android, HTML5, iOS, CoffeeScript, Ruby, cloud, podcast, Rails, elasticsearch, Linux, OSX, AWS, Heroku, Objective-C, Mongoid, jQuery Mobile, TDD, SQS, DevOps, Ubuntu, Git, CoffeScript, Docker, "/>


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://thediscoblog.com/blog/2014/04/01/schooled-in-ping-pong/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="The Disco Blog" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3500051-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The Disco Blog</a></h1>
  
    <h2>Can you dig it?</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:thediscoblog.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories">Categories</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Schooled in Ping Pong</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2014-04-01T20:53:00-07:00" pubdate data-updated="true">Apr 1<span>st</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="right" src="/images/mine/pingpong.jpg">Years ago, a <a href="http://www.pauljulius.com/">good friend of mine</a> taught me an effective pair programming technique that results in universally covered code. What&#8217;s more, this manner of pairing ultimately made me a better developer as I learned myriad different coding skills from my coding partner, ranging from testing techniques, defensive coding, and encapsulation, just to name a few.</p>

<p>A lot of my coding practices today can be traced to tactics I learned from playing what&#8217;s known as <em>ping pong</em>.</p>

<!-- more -->


<p>What&#8217;s <a href="http://c2.com/cgi/wiki?PairProgrammingPingPongPattern">ping pong</a> you ask? It&#8217;s a pair programming approach that&#8217;s absurdly simple:</p>

<ol>
<li>You write a failing test.</li>
<li>Your crony writes just enough code to make that test pass.</li>
<li>Your crony writes an additional failing test.</li>
<li>You write just enough code to make that new failing test pass.</li>
<li>Repeat (and refactor as needed).</li>
</ol>


<p>It&#8217;s that easy. The beauty of this process is that by limiting your coding to <em>just enough logic</em> to make a test pass, followed up with an additional test that <em>must fail</em> (which is thereby testing something new) you end up with 100% code coverage. What&#8217;s more, you don&#8217;t end up writing a lot of superfluous code.</p>

<h4>Show me the money</h4>

<p>Let me show you how it works. My fictitious ping pong pairing, with Frank and Glenn, will focus on creating a calculator that can add 2 numbers in <a href="http://thediscoblog.com/blog/categories/coffeescript/">CoffeeScript</a>.</p>

<p>Step 1 is to write a failing test. Accordingly, Frank crafts a test in <a href="http://visionmedia.github.io/mocha/">Mocha</a> with the expectation that 1 and 4 make 5.</p>

<figure class='code'><figcaption><span>Step 1: a failing test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">require</span> <span class="s1">&#39;should&#39;</span>
</span><span class='line'><span class="nx">require</span> <span class="s1">&#39;mocha&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">describe</span> <span class="s1">&#39;a calculator&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">describe</span> <span class="s1">&#39;the addition function&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="nx">it</span> <span class="s1">&#39;should support adding 2 positive numbers&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>          <span class="nx">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span>
</span><span class='line'>          <span class="nx">value</span> <span class="o">=</span> <span class="nx">calculator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span><span class='line'>          <span class="nx">value</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="mi">5</span>
</span></code></pre></td></tr></table></div></figure>


<p>Glenn runs the test and is immediately presented with an error:</p>

<figure class='code'><figcaption><span>Oh no! </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>1<span class="o">)</span> a calculator the addition <span class="k">function </span>should support adding 2 positive numbers:
</span><span class='line'>   ReferenceError: Calculator is not defined
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>&#8220;No problem&#8221; thinks Glenn and he adds the following line of code to the top of the test:</p>

<figure class='code'><figcaption><span>Import it, baby</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Calculator</span> <span class="o">=</span> <span class="nx">require</span> <span class="s1">&#39;Calculator&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Glenn knew this wouldn&#8217;t make the test pass, but he recognized that the error he saw was related to the fact that <code>Calculator</code> wasn&#8217;t defined in the test. One problem has been licked, but he knows another one exists. Nevertheless, he runs the test again.</p>

<figure class='code'><figcaption><span>Still erroring out?</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Error: Cannot find module <span class="s1">&#39;Calculator&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Glenn&#8217;s one step closer to making the test pass &#8211; he must define a <code>Calculator</code> class. Here, Glenn decides to write the <em>absolute minimum amount of code</em> to make the test pass:</p>

<figure class='code'><figcaption><span>As easy as it gets</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">class</span> <span class="nx">Calculator</span>
</span><span class='line'>  <span class="nx">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="mi">5</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Calculator</span>
</span></code></pre></td></tr></table></div></figure>


<p>Glenn now proceeds to run the test.</p>

<figure class='code'><figcaption><span>And it passes!</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>a calculator
</span><span class='line'>    the addition <span class="k">function</span>
</span><span class='line'>      âœ“
</span></code></pre></td></tr></table></div></figure>


<p>Step 2 is now complete: Glenn has written the minimum amount of code to make Frank&#8217;s test pass. Now Glenn must write a new test that fails.</p>

<p>Accordingly, for step 3, Glenn decides to do a bit of refactoring of the test and adds the following logic:</p>

<figure class='code'><figcaption><span>Step 3: A newly failing test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">require</span> <span class="s1">&#39;should&#39;</span>
</span><span class='line'><span class="nx">require</span> <span class="s1">&#39;mocha&#39;</span>
</span><span class='line'><span class="nx">Calculator</span> <span class="o">=</span> <span class="nx">require</span> <span class="s1">&#39;Calculator&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">describe</span> <span class="s1">&#39;a calculator&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">describe</span> <span class="s1">&#39;the addition function&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="nx">it</span> <span class="s1">&#39;should support adding 2 positive numbers&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>          <span class="nx">inputs</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">}]</span>
</span><span class='line'>          <span class="nx">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span>
</span><span class='line'>          <span class="k">for</span> <span class="nx">input</span> <span class="k">in</span> <span class="nx">inputs</span>
</span><span class='line'>            <span class="nx">calculator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">input</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]).</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;ans&#39;</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Frank runs the test and, indeed, the two intrepid developers are presented with a new error:</p>

<figure class='code'><figcaption><span>Without a surprise, it fails</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>a calculator
</span><span class='line'>    the addition <span class="k">function</span>
</span><span class='line'><span class="k">      </span>1<span class="o">)</span> should support adding 2 positive numbers
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  0 passing <span class="o">(</span>5ms<span class="o">)</span>
</span><span class='line'>  1 failing
</span><span class='line'>
</span><span class='line'>  1<span class="o">)</span> a calculator the addition <span class="k">function </span>should support adding 2 positive numbers:
</span><span class='line'>     AssertionError: expected 5 to equal 3
</span></code></pre></td></tr></table></div></figure>


<p>But Frank&#8217;s no fink. He quickly corrects the state of failing code with a simple change to the <code>Calculator</code>.</p>

<figure class='code'><figcaption><span>Addition at its finest</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">class</span> <span class="nx">Calculator</span>
</span><span class='line'>  <span class="nx">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Calculator</span>
</span></code></pre></td></tr></table></div></figure>


<p>He reruns the test and, not surprisingly, everything is kosher. Now it&#8217;s Frank&#8217;s turn for a bit of sadism, so he refactors the test slightly but throwing in a random <code>String</code>.</p>

<figure class='code'><figcaption><span>Tricky, Frank. Tricky.</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">require</span> <span class="s1">&#39;should&#39;</span>
</span><span class='line'><span class="nx">require</span> <span class="s1">&#39;mocha&#39;</span>
</span><span class='line'><span class="nx">Calculator</span> <span class="o">=</span> <span class="nx">require</span> <span class="s1">&#39;Calculator&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">describe</span> <span class="s1">&#39;a calculator&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">describe</span> <span class="s1">&#39;the addition function&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="nx">it</span> <span class="s1">&#39;should support adding 2 positive numbers&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>          <span class="nx">inputs</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">}]</span>
</span><span class='line'>          <span class="nx">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span>
</span><span class='line'>          <span class="k">for</span> <span class="nx">input</span> <span class="k">in</span> <span class="nx">inputs</span>
</span><span class='line'>            <span class="nx">calculator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">input</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]).</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;ans&#39;</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Naturally, the test fails with the not too strange result of <code>AssertionError: expected '14' to equal 5</code>.</p>

<p>Glenn, feeling fiendish, goes to work by enhancing the <code>Calculator</code> <em>ever so slightly</em>.</p>

<figure class='code'><figcaption><span>Why just x?</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">class</span> <span class="nx">Calculator</span>
</span><span class='line'>  <span class="nx">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">+</span> <span class="nx">y</span>
</span><span class='line'>
</span><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Calculator</span>
</span></code></pre></td></tr></table></div></figure>


<p>The addition of the <code>Number</code> type for <em>x only</em> fixes Frank&#8217;s tricky test. Time to write a failing test. In what should be no big surprise, Glenn simply adds an additional associative array which contains <em>two</em> <code>String</code>s.</p>

<p>This step might seem pedestrian, but it&#8217;s deliberate: by only writing the minimum amount of code required to make a test pass and following that step up with an additional test, Glenn&#8217;s villainous coding behavior is ensuring every logical path through the evolving code is covered by a test.</p>

<p>Naturally, once Glenn&#8217;s new associative array is forcing a failure, Frank updates the <code>add</code> method to make the <code>y</code> input parameter a <code>Number</code> as well. Frank then proceeds to add a few more values to the <code>inputs</code> array.</p>

<figure class='code'><figcaption><span>Let&#8217;s see if you can make it fail now!</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">require</span> <span class="s1">&#39;should&#39;</span>
</span><span class='line'><span class="nx">require</span> <span class="s1">&#39;mocha&#39;</span>
</span><span class='line'><span class="nx">Calculator</span> <span class="o">=</span> <span class="nx">require</span> <span class="s1">&#39;Calculator&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">describe</span> <span class="s1">&#39;a calculator&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">describe</span> <span class="s1">&#39;the addition function&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>        <span class="nx">it</span> <span class="s1">&#39;should support adding 2 positive numbers&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>          <span class="nx">inputs</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
</span><span class='line'>             <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
</span><span class='line'>             <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
</span><span class='line'>             <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
</span><span class='line'>             <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
</span><span class='line'>             <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">ans</span><span class="o">:</span> <span class="mf">5.5</span><span class="p">}]</span>
</span><span class='line'>          <span class="nx">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span>
</span><span class='line'>          <span class="k">for</span> <span class="nx">input</span> <span class="k">in</span> <span class="nx">inputs</span>
</span><span class='line'>            <span class="nx">calculator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">input</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]).</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="nx">input</span><span class="p">[</span><span class="s1">&#39;ans&#39;</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>He runs the test hoping for a failure, but to no avail. Time to think a bit harder. Time to embrace one&#8217;s inner sadistic troll. He then adds the following associative array to the <code>inputs</code> array: <code>{x: 1.5, y: null, ans: 1.5}</code>. Yet, the test still passes.</p>

<p>It&#8217;s at this point that both Frank and Glenn feel they&#8217;re done: <code>add</code> works to their expectations. If they wanted to go on, Frank could proceed to write a failing test for a <code>subtract</code> function and so on.</p>

<h4>It&#8217;s a learning experience</h4>

<p>Interestingly, Frank learned a new way to approach testing from Glenn. When Glenn introduced the array of associative arrays, Frank was initially surprised. He figured it would be easier to write an additional test case. He even pointed that out to Glenn.  But Glenn countered that more <code>it</code> phrases don&#8217;t necessarily mean better tests; and besides, using his method of iterating over a series of values provided them with a lot of flexibility <em>without</em> a lot of boiler plate code &#8211; something Frank agreed with. Accordingly, Frank learned a new way of thinking about testing &#8211; make a single test a bit more powerful by using a series of values rather than making a lot of similar tests.</p>

<p>Frank also learned a bit of coding patience. He was initially annoyed when Glenn only updated <code>x</code> to use a <code>Number</code> type and completely ignored <code>y</code>. He accosted Glenn: &#8220;Update <code>y</code> too?!&#8221; to which Glenn countered that the only amount of code he needed to write to make Frank&#8217;s test pass. Frank then saw that his tricky test case with only 1 <code>String</code> input was essentially inadequate.</p>

<h4>Benefits and costs</h4>

<p>Ping pong pairing is a methodically deliberate manner of programming that forces you to be extremely patient, because you are limited to write the least amount of code to make a test pass <em>and no more</em>. And while it might seem like this process is a slow way to get things done, the benefits far outweigh the costs.</p>

<p>For one thing, two chums practicing ping pong will produce well tested functionality. Second, they&#8217;ll produce this functionality in a lot fewer lines of code than if they had done it otherwise. That&#8217;s a good thing and I&#8217;ve seen this result consistently. There&#8217;s one thing that I&#8217;ve come to learn: less working code is better than more. And pay attention here: producing fewer lines of working code usually means you have more tests than the code those tests are validating.</p>

<p>Additionally, this technique forces developers to learn from each other. Every developer has a great coding facility up their sleeves and every developer can learn something <em>new</em>.</p>

<p>Finally, ping pong results in two parties having an intimate knowledge of code. Two is better than one, in my book.</p>

<h4>Ping pong style</h4>

<p>I&#8217;ve found that ping pong is best practiced <a href="http://en.wikipedia.org/wiki/Pomodoro_Technique">Pomodoro style</a> &#8211; ping pong isn&#8217;t something you can do all day, nor would I recommend you do so. Do it for 20 to 25 minutes then take a break and figure out if it was valuable or not. Chances are you&#8217;ll find it was a worthwhile investment in time and you&#8217;ll elect to do it again later in the day or another time.</p>

<p>Make no mistake: holding back the urge to loquaciously code away takes a lot of discipline and practice. But ping pong <em>will make you a better programmer</em> even if you only do it once in a while.</p>
</div>
<!-- related posts -->
<div id='related_posts'>
  <h4>Related Posts</h4>
      <ul class="posts">
      
          
          <!-- nothing, skip it as its the same as the post itself -->
          
      
          
            <li class="related"><a href="/blog/2013/07/24/introducing-android-migrations/">Introducing Android migrations</a></li>
          
      
          
            <li class="related"><a href="/blog/2014/05/05/dockerfiles-in-a-jiffy/">Dockerfiles in a jiffy</a></li>
          
      
          
            <li class="related"><a href="/blog/2013/08/01/imbibing-the-fluency-of-mockito/">Imbibing the fluency of Mockito</a></li>
          
      
          
            <li class="related"><a href="/blog/2014/06/13/docker-containers-with-gradle-in-4-steps/">Docker containers with Gradle in 4 steps</a></li>
          
      
          
            <li class="related"><a href="/blog/2013/12/29/just-require-tire-to-inquire/">Just require tire to inquire</a></li>
          
      
      </ul>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andrew Glover</span></span>

      








  


<time datetime="2014-04-01T20:53:00-07:00" pubdate data-updated="true">Apr 1<span>st</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/coffescript/'>CoffeScript</a>, <a class='category' href='/blog/categories/tdd/'>TDD</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://thediscoblog.com/blog/2014/04/01/schooled-in-ping-pong/" data-via="aglover" data-counturl="http://thediscoblog.com/blog/2014/04/01/schooled-in-ping-pong/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/2014/03/29/custom-git-commands-in-3-steps/" title="Previous Post: Custom Git commands in 3 steps">&laquo; Custom Git commands in 3 steps</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/2014/05/05/dockerfiles-in-a-jiffy/" title="Next Post: Dockerfiles in a jiffy">Dockerfiles in a jiffy &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <div id='influads_block' class='influads_block'></div><script type='text/javascript'>(function(){var acc='acc_1097d812_pub';var st='css';var or='130';var e=document.getElementsByTagName('script')[0];var d=document.createElement('script');d.src=('https:' == document.location.protocol ?'https://' : 'http://') +'engine.influads.com/show/'+or+'/'+st+'/'+acc;d.type='text/javascript';d.async=true;d.defer=true; e.parentNode.insertBefore(d,e);})();</script>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/12/20/batten-down-those-npm-dependency-hatches/">Batten down those Node dependency hatches</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/13/docker-containers-with-gradle-in-4-steps/">Docker containers with Gradle in 4 steps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/05/dockerfiles-in-a-jiffy/">Dockerfiles in a jiffy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/01/schooled-in-ping-pong/">Schooled in ping pong</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/29/custom-git-commands-in-3-steps/">Custom Git commands in 3 steps</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/aglover">@aglover</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'aglover',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
 <h1>Latest Tweets</h1>
 <a class="twitter-timeline" href="https://twitter.com/aglover" data-widget-id="345533522750099456">Tweets by @aglover</a>
 <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Andrew Glover -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'thediscoblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://thediscoblog.com/blog/2014/04/01/schooled-in-ping-pong/';
        var disqus_url = 'http://thediscoblog.com/blog/2014/04/01/schooled-in-ping-pong/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
